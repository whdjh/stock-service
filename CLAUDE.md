
# CLAUDE.md - 프로젝트 가이드라인
## 0. 필수 원칙
- SuperPowers 플러그인 사용
- API 키가 필요하다면 이런 API 키가 필요하다고 알려주기.
- API 키 보안 문제는 일어나도 상관없을 것으로 예상

---

## 1. 핵심 원칙 (Karpathy-Inspired Rules)
다음 4가지 원칙을 반드시 준수하여 LLM이 흔히 저지르는 실수를 방지하시오:

### 🧠 코딩 전에 생각하기 (Think Before Coding)
- **넘겨짚지 마라.** 요구사항이 모호하면 코드를 짜기 전에 반드시 질문해라.
- **트레이드오프를 제시하라.** 복잡한 구현보다 더 간단한 방법이 있다면 먼저 제안해라.
- **헷갈리면 멈춰라.** 추측해서 짜지 말고, 무엇이 불명확한지 말하고 물어봐라.

### 📉 단순함이 생명이다 (Simplicity First - MVP Mindset)
- **최소한의 코드가 최고다.** 요청받은 기능만 구현해라. "미래를 대비한(Future-proofing)" 코드는 작성하지 마라.
- **오버 엔지니어링 금지.** 요청하지 않은 설정, 추상화, 에러 처리를 추가하지 마라.
- **시니어 개발자 테스트:** 시니어 개발자가 보기에 "불필요하게 복잡하다"고 느낄 것 같다면, 무조건 더 단순하게 고쳐라.

### 🔪 수술하듯 정교하게 변경하기 (Surgical Changes)
- **필요한 곳만 건드려라.** 요청과 관련 없는 주변 코드, 주석, 포맷팅 스타일은 절대 건드리지 마라.
- **뒷정리를 잘해라.** 네가 만든 코드로 인해 사용되지 않게 된 import나 변수는 꼼꼼히 지워라.

### 🎯 목표 중심 실행 (Goal-Driven Execution)
- **검증 기준을 세워라.** 작업을 끝내기 전에 "페이지가 에러 없이 렌더링된다", "탭 전환이 작동한다" 같은 성공 기준을 정의해라.

---

## 2. 프로젝트 스펙 및 데이터 소스

### 🛠 기술 스택
- **프레임워크:** Next.js 14 (App Router), TypeScript.
- **스타일링:** **Tailwind CSS Only**. (외부 UI 라이브러리 사용 금지, 애니메이션 라이브러리 사용 금지).
- **아이콘:** `lucide-react`.

### 📊 데이터 소스 (Data Source)
- **미국 주식/고수(버핏, 펠로시):** Financial Modeling Prep (FMP) API.
- **한국 주식 시세:** 한국투자증권(KIS) Open API 또는 Pykrx/FinanceDataReader (라이브러리 활용).
- **국민연금 포트폴리오:** Open DART API (기업개황 및 지분공시 파싱) 또는 초기 MVP 단계에서는 정적 데이터(JSON)로 관리.

### 📝 상세 기능 명세 (Feature Specs)

#### A. 메인 홈 (Dashboard)
- **사이드바:** "오늘의 시장" (나스닥, 코스피, 코스닥 지수 간단 요약).
- **섹션 1: 고수들의 지갑 (Guru's Wallet)**
  - 워렌 버핏, 낸시 펠로시, 국민연금등 아이콘 배치.
  - 클릭 시 상세 페이지 이동.
- **섹션 2: 국가별 시총 Top 30**
  - **리스트 뷰:** 순위, 기업명, 현재가, 등락률(Red/Blue 컬러 코딩).
- **섹션 3: 지금 뜨는 섹터 (Curated Sectors)**
  - **카드 형태 UI:** [2차전지], [AI 반도체], [바이오], [방산] 등.
  - 관리자가 설정한 테마별 Top 5 종목 노출.

#### B. 상세 페이지 (Stock Detail)
- **주가 정보:** 현재가, 전일 대비 등락, 심플한 라인 차트 (TradingView Lightweight Charts 활용).
- **핵심 지표:** 시가총액, PER, PBR, 배당수익률 (복잡한 재무제표 제외).
- **고수의 선택:** "이 종목은 워렌 버핏 포트폴리오에 포함되어 있습니다" 배지 표시.
- **커뮤니티:** 종목별 단순 댓글형 게시판 (로그인 유저만 작성 가능).

#### C. 고수 상세 페이지 (Guru Detail)
- **포트폴리오 파이 차트:** 보유 종목 비중 시각화.
- **Top Holdings 리스트:** 보유 비중 상위 10개 종목.
- **최근 활동:** 지난 분기 대비 매수/매도한 종목 리스트 (Change %).

---

## 3. 코딩 표준 (Strict Rules)

### 🧩 컴포넌트 패턴 (하이브리드 양립)
컴포넌트는 상황에 따라 **합성 패턴**과 **플랫 패턴**이 양립(Coexist)할 수 있도록 유연하게 설계해야 한다.

1.  **합성 패턴 (Compound Component):**
    - 복잡한 UI 구성 시 유연성을 위해 사용.
    - 예: `<Card><Card.Header>제목</Card.Header><Card.Body>내용</Card.Body></Card>`
2.  **플랫 패턴 (Flat Pattern):**
    - 단순한 데이터 표출이나 원자(Atomic) 단위 컴포넌트에 사용.
    - 예: `<Button variant="primary" label="클릭" />`
3.  **양립 전략:** `Card` 같은 핵심 컨테이너는 두 방식을 모두 지원하도록 구현하는 것을 권장한다 (예: props로 내용을 전달하면 렌더링하고, children이 있으면 합성패턴으로 동작).

### 🎨 스타일 가이드 (토스 스타일)
- **디자인:** 군더더기 없는 미니멀리즘 (Mobile First).
- **색상:** 배경 `#F2F4F6`, 카드 `#FFFFFF`, 텍스트 `#191F28` / `#8B95A1`.
- **등락 색상:** 상승 = 빨강(`text-red-500`), 하락 = 파랑(`text-blue-500`).
- **둥글기:** 카드는 `rounded-3xl`, 버튼은 `rounded-xl`.

---

## 4. 즉시 실행 계획 (Start Project)
"프로젝트 시작해"라고 하면 다음 순서를 따라라:

1.  **스캐폴딩:** `src/components/ui`, `src/components/guru`, `src/components/stock` 등 도메인별 폴더 구조 생성.
2.  **기본 UI 구현:** `Card.tsx` (합성/플랫 양립 가능하게), `Button.tsx`, `Badge.tsx` 구현.
3.  **도메인 컴포넌트:** `GuruCard` (섹션 1용), `RankingList` (섹션 2용), `SectorCard` (섹션 3용) 구현.
4.  **페이지 조립:** `app/page.tsx`에 위 컴포넌트들을 배치하고 `mockData`를 연결하여 화면 완성.